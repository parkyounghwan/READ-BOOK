---
description: >-
  알고리즘을 객체 구조에서 분리시키는 디자인 패턴. 분리를 통해서 구조를 수정하지 않고도 새로운 동작을 기존의 객체 구조에 추가 할 수 있게
  된다. 개방-폐쇄 원칙을 적용하는 방법의 하나.
---

# Visitor Pattern \(방문자 패턴\)

#### 본 내용은 아래 블로그를 참고하여 작성했습니다.

> [https://m.blog.naver.com/PostView.nhn?blogId=2feelus&logNo=220664244510&categoryNo=28&proxyReferer=&proxyReferer=https%3A%2F%2Fwww.google.com%2F](https://m.blog.naver.com/PostView.nhn?blogId=2feelus&logNo=220664244510&categoryNo=28&proxyReferer=&proxyReferer=https%3A%2F%2Fwww.google.com%2F)

## Visitor Pattern\(방문자 패턴\) 이란?

일반적인 경우 'OOP\(Object Oriented Program\)' 에서는 객체가 스스로 행위에 대한 내용을 포함하도록 하지만, 객체에 대한 행위의 내용을 외부 클래스로 빼서 객체의 행위를 위임하기도 한다. 이런 타입의 패턴으로 '전략 패턴\(Strategy Pattern\)', '커맨드 패턴\(Command Pattern\)', '방문자 패턴\(Visitor Pattern\)' 등이 있다. 셋 모두 객체의 행위를 바깥으로 위임하는 것이지만, 전략 패턴이 하나의 객체에 대해 여러 동작을 하게 하거나\(1:N\), 커멘드 패턴이 하나의 객체에 대해 하나의 동작\(+ 보조 동작\)에 대한 설계 방식\(1:1\) 인 반면에, 방문자 패턴은 여러 객체들에 대해 객체의 동작들을 지정하는 방식\(N:N\) 이다. 'N:N' 이다 보니 구현이 복잡해 진다. 양방향의 N을 처리하기 위해 두 개의 인터페이스\(방문자 인터페이스, 앨리먼트 인터페이스\)가 필요하다.

## 사용되는 부분

컴파일러.  
소스 코드는 여러 원시 타입, 파라미터, 함수명, 키워드 등으로 이루어져 있는데, 각 앨리먼트는 컴파일 시에 부분 부분 바이트 코드 혹은 기계어, 힌트, 에러 코드 등으로 변환 되어야 한다. 이럴 때, 다양한 앨리먼트에 대한 사전 처리 방법이 적용 되어 있는 방문자 패턴을 적용하기 좋다.

## 예

우리가 자주 사용하는 배달 서비스 어플, '배달의 민족', '요기요' 등을 통합하는 서비스를 만든다고 생각해 보자.

배달 서비스 어플\(ex, '배달의 민족', '요기요' ...\)를 예로 생각해보자. 배달 서비스는 어떤 음식점이 있는지 알려주고, 주문을 받으며, 결제를 도와 준다. '배달의 민족' 과 '요기요' 두 서비스 업체 모두 정보 제공, 주문, 결제 서비스를 제공한다. 선택에 따라 두 업체 중 하나를 선택할 수 있고, 이런 겹치는 기능이 있는 경우에 방문자 패턴으로 클래스를 디자인 할 수 있다.



