# 확장 예제

화물 해운 회사의 예를 통해 어떻게 모델을 정제해나가는 지 보여준다. 설계된 모델이 있다고 가정하고 LAYERED ARCHITECTURE를 적용하여 도메인을 격리시킨다.

시스템에 필요한 응용 기능을 식별하고 정리한다.응용 기능에서 필요한 처리는 응용 계층에서 하는 것이 아니라 도메인 계층에서 한다.

모델에서 정의한 객체의 식별성과 여러 속성들을 살펴보고 ENTITY와 VALUE OBJECT로 구분한다. 객체 간 연간관계를 설정한다. 양방향 연관관계와 직접 참조가 꼭 필요한지 살펴본다. 꼭 필요한 이유가 없다면 대안을 찾는다.

순환참조가 필요한 경우도 있는데 순환참조를 구현할 때 주의해야 한다. 같은 객체를 참조하는 두 곳에서 각기 다른 정보를 보관할 수도 있다. 객체 참조와 데이터베이스 탐색으로 연관관계 조회를 할 수 있는데, 객체 참조는 연관관계 질의가 빈번하게 일어날 경우 유리하고 데이터베이스 탐색은 드물게 질의할 경우에 유리하다.

설계는 구현의 단순함과 성능 사이에서 균형을 이뤄야 한다.

