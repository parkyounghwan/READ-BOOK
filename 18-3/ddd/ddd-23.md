# DDD-23

암시적인 개념은 설계상 부자연스러운 부분과 모순돼 보이는 전문가 견해를 면밀하게 검토하며 도메인과 관련된 문서를 조사하고 수많은 실험 과정을 거쳐 얻을 수 있다. 도메인 전문가는 알지만 개발자는 모르는 도메인 개념을 깨닫는 순간이 온다. 암시적인 개념이 명확하게 변화하는 순간. 도메인 모델 언어가 더욱 강력해지고 새로운 모델을 반영하기 위해 코드를 리팩터링하면 설게가 더 깔끔해진다. 특정 도메인 용어가 누락돼 있다면 설계에 포함시켜 모델과 설계를 향상시킬 수 있다.

설계에서 가장 어색한 부분을 조사한다. 누락된 개념이 존재한다는 사실 조차 인식하지 못할 때가 있다. 누락돼있다는 사실을 깨닫는다 해도 모델과 관련된 문제를 어떻게 풀어야 할지 감이 안올 수도 있다. 도메인 전문가가 개념을 발견할 수 있도록 해야 한다. 발견한 후에 개발자에게 도메인 개념에 대해 논의하며 개발자를 이해시키고 설계에 반영한다. 반복하면 도메인 모델이 강력해진다.

요구사항이 추가할 때마다 모순점이 발생한다면 모델에 문제가 있다는 징조이다. 모순을 해결할 때 심층적인 모델로 나아갈 수 있다. 하지만 모든 모순을 해소하는 건 현실적이지도 바람적이지도 않다.

나도 라이브러리를 만들면서 모순점을 발견하고 해결하여 심층적인 모델로 나아간 경험이 있다. 라이브러리에 기능을 추가할수록 복잡성이 크게 증가하여 고통받았었다. 기능을 만들면서 부자연스러운 느낌이 많이 들었다. 불필요한 연산을 내부에서 하는것처럼 보였다. 가독성이 너무 떨어졌고 메소드는 너무 큰 책임을 가지고 있었다. 반복되는 구간을 줄이는 방향으로 리팩토링을 진행하던 중, 생성 방식이 내가 알고리즘을 풀며 만났던 세그먼트 트리라는 개념과 동일하다는 것을 깨달았다. 깨달음을 라이브러리에 반영하니, 물 흐르듯이 자연스러운 흐름으로 바뀌는 신기한 경험을 했다. 책에서 언급한 "심층적인 모델"로의 도약을 경험한 것이다. 기능 추가할 때 복잡성이 일정하게 증가했으며 이전 구조에서는 추가할 수 없었던 많은 심화적인 기능을 추가할 수 있게 됐다.

