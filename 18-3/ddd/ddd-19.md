# 새로운 기능 추가

동일한 모델을 염두에 두고 만들어지지 않은 시스템과 연계하는 기능을 추가하는 상황이다.

모델과 새로운 서비스의 언어를 서로 번역하는 객체를 만든다. 모든 서비스에 사용가능 한 것이 아닌 새로운 서비스에만 특화된 객체이다. 새로운 기능을 개발하는 데 필요한 기능들만 노출하고 재추상화한다. ANTICORRUPTION LAYER의 역할을 한다.

일반적으로 인터페이스라는 이름을 사용하려고 하겠지만 대신 다른 시스템에서 필요한 기능에 대한 SERVICE로 인식하고 이름을 짓는다. 현재 사용하는 시스템에서는 번역하는 객체만 노출이 되므로 상세한 기능을 담당하는 다른 객체들은 캡슐화로 인해 감춰진다.

다른 시스템에 요청을 보낼 때 지금 시스템에서는 알지 못하는 도메인의 데이터이므로 단순히 필요한 데이터만 문자열로 구성된 컬렉션으로 구성하여 파라미터로 전송할 수 있다. 하지만 조금 더 고민하면 다른 시스템의 도메인을 재추상화하여 현재 모델을 발전시킬 수 있다. ENTERPRISE SEGMENT를 단순한 문자 컬렉션 대신 사용 할 수 있다.

ENTERPRISE SEGMENT는 현재 ENTITY, VALUE OBJECT 등의 객체에서 필요한 데이터만 모아서 사용하는 VALUE OBJECT이다. 시스템 간 통신은 ENTERPRISE SEGMENT를 통해 이루어진다. ENTERPRISE SEGMENT 할당과 제약사항 제어를 ANTICORRUPTION LAYER에서 하도록 한다. ENTERPRISE SEGMENT에 대한 책임이 ANTICORRUPTION LAYER에 집중되어 응집력이 높아진다.

ANTICORRUPTION LAYER가 도입되면서 내부 구현이 캡슐화되어 구현 방법을 변경하여 성능을 최적화할 수 있다. 하지만 유연함을 얻는 대신 설계가 복잡해지고 중복된 데이터의 최신화 관리라는 비용이 생긴다.

