# 1. 스프링부트를 활용한 마이크로서비스 개발

> 3월 1주차 기록  
> Ch 01 ~ 02 \(~20p\)

* [1. 소개](0302-msa.md#1-소개)
  * [1-1. 학습 방법](0302-msa.md#1-1-학습-방법)
  * [1-2. 다루는 내용](0302-msa.md#1-2-다루는-내용)
* [2. 기본적인 스프링 부트 애플리케이션](0302-msa.md#2-기본적인-스프링-부트-애플리케이션)
  * [2-1. 요구사항](0302-msa.md#2-1-요구사항)
    * [2-1-1. 스토리보드](0302-msa.md#2-1-1-스토리보드)
    * [2-1-2. 세부 Task](0302-msa.md#2-1-2-세부-task)
  * [2-2. 애플리케이션 구성](0302-msa.md#2-2-애플리케이션-구성)
    * [2-2-1. 애플리케이션 구조](0302-msa.md#2-2-1-애플리케이션-구조)
    * [2-2-2. TDD 실습](0302-msa.md#2-2-2-tdd-실습)

## 1.1. 소개

책에서 다루는 내용과 방식을 소개해준다.  
챕터 외 소제목은 내가 이해한 방식으로 정리할 계획이다.

### 1.1.1. 1-1. 학습 방법

* 설명보다 `실습 위주`
* 단계별 학습
  * 먼저 Use Case 정의
  * Monolithic → MSA 전환 이유 및 방법
  * Event-Driven Architecture Pattern
  * 분산 시스템에서 End-To-End 테스트 방법
* 문제를 먼저 다룬 후 해결책 제시
* SpirngBoot, Java8 지식 필요

### 1.1.2. 1-2. 다루는 내용

* Spring boot 프로젝트 생성
  * `REST API`
  * 3계층 구조 패턴 설계 및 구현
* 테스트 주도 개발\(TDD\)
  * `AssertJ`, `Mockito` 활용
* 마이크로서비스 연결
  * `MSA`의 장단점 이해
  * 서비스 디스커버리
  * API 게이트웨이
  * 로드 밸런싱
* 이벤트 중심 시스템\(Event-driven\)
  * 비동기 처리
  * `RabbitMQ` 활용
* End-To-End 테스트
  * MSA에서 End-To-End 테스트 방법
  * `Cucumber` 활용

> 실습을 통해 작성한 코드의 문제점이 무엇이고 어떤 도구를 활용해서 해결할 수 있는지 이해할 수 있고 관련 개념을 공부하며 책을 읽으면 더 좋을 것 같다!

## 1.2. 기본적인 스프링 부트 애플리케이션

### 1.2.1. 2-1. 요구사항

요구사항에 기반을 둔 실무 프로젝트와 비슷하게 분석하고 설계하는 방식이다.

1. 사용자가 매일 계산 능력을 훈련하는 애플리케이션
2. 웹 애플리케이션으로 제공
3. 두 자릿수 곱셈 제공
4. 계산 결과와 닉네임 입력
5. 결과 페이지 & 순위

위 요구사항을 만족하도록 애자일 방식을 기반으로 사용자 스토리\(User Story\)에 따라 개발을 진행한다.

> User Story  
> 사용자가 누구인지\(As a\)  
> 무엇을 원하는지\(I wnat\)  
> 그래서 어떤 동작을 하는지\(So that\)

#### 1.2.1.1. 2-1-1. 스토리보드

* 온라인에서 무작위로 생성되는 곱셈 문제를 풀고 싶다.
* 매일 암산으로 두뇌 훈련을 해야 하니, 너무 쉽지 않으면 좋겠다.

#### 1.2.1.2. 2-1-2. 세부 Task

* 비즈니스 로직을 제공하는 기본적인 서비스 만들기
* 해당 서비스를 사용할 수 있는 REST API 엔드포인트 만들기
* 사용자에게 문제를 보여주는 간단한 웹 페이지 만들기

### 1.2.2. 2-2. 애플리케이션 구성

`Hello world` 수준이 아닌 실전과 같은 애플리케이션을 개발하는 것이 목적이니 구조부터 잘 만든다.

#### 1.2.2.1. 2-2-1. 애플리케이션 구조

[Spring Initializr](https://start.spring.io/)를 통해 Spring boot 프로젝트 생성!

> 책은 Maven과 Spring boot 1.5 버전을 사용한다.  
> 개인적으로 Gradle과 Spring boot 2 버전을 사용하고 싶기 때문에 실습 중 버전 문제로 발생하는 에러는 따로 정리할 생각이다!

#### 1.2.2.2. 2-2-2. TDD 실습

* 로직이 포함된 코드보다 **테스트를 먼저 작성**한다!
* 이후 테스트에 성공하는 로직을 작성한다.

> 책에서 TDD의 장점을 요구사항에 대해 더 깊이 있게 생각할 수 있다는 점이라고 강조하는데 기획서가 넘어오면 요구사항을 명확히 이해하고 협의하기 위해 너무 좋은 것 같다!

실습 코드는 아래 Github에서 확인할 수 있다.

[https://github.com/wikibook/springboot-microservices](https://github.com/wikibook/springboot-microservices)

