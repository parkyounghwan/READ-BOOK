# 0321

## 5장. 표현식과 문

### 5.1 값\(value\)

* 값은 표현식이 평가되어 생성된 결과를 말하며, 평가란 식을 해석해서 값을 생성하거나 참조하는 것을 의미한다.
* 변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 해당 공간을 식별하기 위해 붙인 이름으로 변수에 할당되는 것은 **값\(value\)**이다.

### 5.2 리터럴\(literal\)

* 리터럴은 사람이 이해할 수 있는 문자 또는 약속된 기호를 사용해 값을 생성하는 표기법을 말한다.
* 자바스크립트 엔진은 런타임에 리터럴을 평가해 값을 생성한다.

### 5.3 표현식\(expression\)

* 표현식은 값으로 평가될 수 있는 문\(statement\)이다.
* 표현식이 평가되면 새로운 값을 생성하거나 기존 값을 참조한다.
* **표현식과 표현식이 평가된 값은 동치\(equivalent\)다.**

### 5.4 문\(statement\)

* 문\(statement\)는 프로그램을 구성하는 기본 단위이자 최소 실행단위로 여러 토큰으로 구성
* 토큰이란 문법적인 의미를 가지며, 문법적으로 더 이상 나눌 수 없는 코드의 기본 요소

### 5.5 세미콜론과 세미콜론 자동 삽입 기능

* 자바스크립트 엔진은 세미콜론으로 문이 종료한 위치를 파악하고 순차적으로 문을 실행한다.
* 중괄호로 묶은 코드 블록 뒤를 제외하고 문을 끝낼 때는 세미콜론을 붙인다.
  * 왜? 코드 블록은 자체 종결성\(self closing\)을 가지기 때문
* 자바스크립트 엔진이 소스코드를 해석할 때 문의 끝이라고 예측되는 지점에 **세미콜론을 자동으로 붙여는 세미콜론 자동 삽입 기능**\(ASI, automatic semicolon insertion\)이 암묵적으로 수행된다.

### 5.6 표현식인 문과 표현식이 아닌 문

* 표현식인 문은 값으로 평가될 수 있는 문이며, 표현식이 아닌 문은 값으로 평가될 수 없는 문

```jsx
var x; // 표현식이 아닌 문
x = 100; // 할당문은 표현식인 문
var foo = var x; // SyntaxError : Unexpected token var
```

* 크롬 개발자 도구에서 표현식이 아닌 문을 실행하면 언제나 `undefined`를 출력한다. 이를 **완료 값**이라하며 이는 표현식의 평가 결과가 아니므로 **변수에 할당하거나 참조할 수 없다.**

## 6장. 데이터 타입

* 자바스크립트\(ES6\)는 7개의 데이터 타입을 제공한다.
  * `원시 타입(primitive type)`과 `객체 타입(object/reference type)`으로 분류
  * number, string, boolean, undefined, null, symbol $\in$ 원시 타입
  * 객체, 함수, 배열 ... $\in$ 객체 타입

> 명확한 의도를 가지고 타입을 구별해서 값을 생성하자!

### 6.1 숫자 타입

* ECMAScript 사양에 따르면 숫자 타입의 값은 **배정밀도 64비트 부동소수점 형식**을 따른다.
* 자바스크립트 숫자 타입은 모든 수를 **실수**로 처리하므로 정수로 표시된다 해도 사실은 실수라는 것을 의미한다. 따라서 정수로 표시되는 수끼리 나누더라도 실수가 나올 수 있다.

### 6.2 문자열 타입

* 문자열은 0개 이상의 16비트 유니코드 문자\(UTF-16\)의 집합이다.
* 문자열은 작은따옴표, 큰따옴표, 백틱으로 텍스트를 감싸는데 가장 일반적인 표기법은 작은따옴표를 사용하는 것이다.
* 자바스크립트의 문자열은 **원시 타입**이며 **immutable value**이다.

### 6.3 템플릿 리터럴

* 템플릿 리터럴은 멀티라인 문자열, 표현식 삽입, 태그드 템플릿\(tagged template\) 등 편리한 문자열 처리 기능을 제공하며 **런타임에 일반 문자열로 변환**되어 처리된다.

#### 멀티라인 문자열

* 일반 문자열 내에서는 줄바꿈이 허용되지 않아 공백을 표현하기 위해서 백슬래시로 시작하는 escape sequence를 사용해야 한다.
* 템플릿 리터널 내에서는 이스케이프 시퀀스를 사용하지 않고도 줄바꿈이 허용되며, 모든 공백도 있는 그대로 적용된다.

#### 표현식 삽입

* 표현식을 삽입하려면 `${}` 으로 감싼다. 표현식의 평가 결과가 문자열이 아니더라도 문자열로 강제 변환되어 삽입된다.

### 6.4 불리언 타입

* 불리언 타입의 값은 논리적 참, 거짓을 나타내는 true, false 뿐이다.

### 6.5 undefined 타입

* `var` 키워드로 선언한 변수는 다른 언어처럼 쓰레기 값으로 두지 않고 자바스크립트 엔진이 암묵적으로 undefined로 초기화하므로 변수를 선언한 이후 값을 할당하지 않은 변수를 참조하면 undefined가 반환된다.
* **자바스크립트 엔진이 변수를 초기화하는 데 사용하는 undefined를 개발자가 의도적으로 변수에 할당한다면 undefined의 본래 취지와 어긋날뿐더러 혼란을 줄 수 있으므로 권장하지 않는다.**
* 변수에 값이 없다는 것을 명시하고 싶을 때는 `null` 을 할당한다.

### 6.6 null 타입

* 변수에 값이 없다는 것을 의도적으로 명시할 때 사용한다.
* 이전에 할당되어 있던 값에 대한 참조를 명시적으로 제거하는 것을 의미한다.
* 함수가 유효한 값을 반환할 수 없는 경우에도 null을 반환하기도 한다.

### 6.7 심벌 타입

* ES6에서 추가된 7번째 타입으로 변경 불가능한 원시 타입의 값이다. 심벌 값은 다른 값과 중복되지 않는 유일무이한 값으로 주로 이름이 충돌할 위험이 없는 객체의 유일한 프로퍼티 키를 만들기 위해 사용된다.
* 심벌은 `Symbol` 함수를 호출해 생성한다. 이때 생성된 심벌 값은 외부에 노출되지 않으며, 다른 값과 절대 중복되지 않는 유일무이한 값이다.

### 6.8 객체 타입

* 자바스크립트는 객체 기반의 언어이며, 자바스크립트를 이루고 있는 거의 모든 것이 객체이다.

### 6.9 데이터 타입의 필요성

#### 데이터 타입에 의해 메모리 공간의 확보와 참조

* 메모리에 값을 저장하려면 먼저 확보해야 할 메모리 공간의 크기를 결정해야 한다.
* 변수에 할당되는 값의 데이터 타입에 따라 **확보해야 할 메모리 공간의 크기가 결정**된다.

#### 데이터 타입에 의한 값의 해석

* 메모리에 저장된 값은 데이터 타입에 따라 다르게 해석될 수 있다.
* 예시 : 0100 0001 → 65 \| 'A'

### 6.10 동적 타이핑

#### 동적 타입 언어와 정적 타입 언어

* 정적 타입 언어는 변수를 선언할 때 데이터 타입도 함께 사전에 선언해야 한다.

  ⇒ **명시적 타입 선언 \(explicit type declaration\)**

* 정적 타입 언어는 컴파일 시점에 타입 체크를 수행한다. 타입의 일관성을 강제함으로써 더욱 안정적인 코드의 구현을 통해 런타임에 발생하는 에러를 줄인다. \(ex. C, Java, Kotlin, Scala, Rust, Haskell, C++ ...\)
* 자바스크립트의 변수는 선언이 아닌 **할당**에 의해 타입이 결정 ⇒ **타입 추론\(type inference\)**
* 재할당에 의해 변수의 타입은 언제든지 동적으로 변함 ⇒ **동적 타이핑\(dynamic typing\)**
* 동적 타입 언어 : JavaScript, Python, PHP, Ruby, Lisp, Perl ...

> 변수는 타입을 가지지 않는다. 하지만 값은 타입을 갖는다.

#### 동적 타입 언어와 변수

* 동적 타입 언어의 변수는 값을 확인하기 전에는 타입을 확신할 수 없다.
* 잘못된 예측에 의해 작성된 프로그램은 오류를 뿜어낸다. _**유연성과 신뢰성의 트레이드 오프!**_

#### 변수를 사용할 때 주의할 점

* 변수의 개수가 많으면 많을수록 오류가 발생할 확률도 높아진다. 필요한 만큼 최소한으로 유지.
* 변수의 스코프는 최대한 좁게 만들어라.
* 전역 변수는 최대한 사용하지 않도록 한다.
* 변수보다는 상수를 사용해 값의 변경을 억제한다.
* 변수 이름은 변수의 목적이나 의미를 파악할 수 있도록 네이밍한다.

> 사람이 이해할 수 있는 코드, 즉 가독성이 좋은 코드가 좋은 코드다.

