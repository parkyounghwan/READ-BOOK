# 7-Thread\_2

* 멀티스레드는 프로세스 내의 메모리를 공유해 사용할 수 있다.
* 프로세스 간의 전환ㄴ 속도 보다 스레드 간의 전환 속도가 빠르다.
* CPU가 여러 개일 경우에 각각의 CPU가 스레드 하나씩을 담당하는 방법으로 속도를 높일 수 있다.
* 멀티 코어 시스템에서는 여러 스레드가 실제 시간상으로 동시에 수행 될 수 있다.
* 멀티 스레드는 각각의 스레드 중 어떤 것이 먼저 실행될지 순서를 알 수 없다.

## Thread 는 어떻게 동작할까?

두 개의 쓰레드가 경합하는 과정에서 원하지 않는 결과를 얻는 경우를 왕왕 볼 수 있다.

우리가 공유하고 있는 어떤 변수\(자원\)에 대해서, 각 스레드가 경쟁, 경합을 하는 것 처럼 보인다.

쓰레드는 경량 프로세스라고도 불리며, 그 구조를 상상하기에 상위 개념인 프로세스를 상상하면 좋을 것 같다. \(개인적인 생각\)

각 쓰레드는 CPU의 기억 장치로 공유 자원을 복사해 온다. 복사한 변수에 연산을 하고, 다시 공유 자원으로 넘긴다.

쓰레드가 연산을 수행하는 곳을 레지스터라 한다. 실제로 프로그램의 실행은 쓰레드의 실행이라고 보아도 되니, CPU의 레지스터를 조작하는 것은 쓰레드라고 보아도 될 것 같다. \(팩트 체크 필요\)

```text
* 경쟁 상태
둘 이상의 입력 또는 조작의 타이밍이나 순서 등이 결과값에 영향을 줄 수 있는 상태를 말한다.

* 경쟁 위험
입력 변화의 타이밍이나 순서가 예상과 다르게 작동하면 정상적인 결과가 나오지 않게 될 위험
```

